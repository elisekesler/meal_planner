<!-- mealapp/templates/grocery_list_partial.html -->
{% load myfilters %}

<h2>Grocery List for {{ num_people }} People</h2>

{% if categorized %}
  {% for aisle, items in categorized.items %}
    <h3>{{ aisles_list|get_item:aisle }} (Aisle {{ aisle }})</h3>
    <ul>
      {% for name, units in items %}
        <li>
          <strong>{{ name }}</strong>:
          {% for unit, amount in units.items %}
            {{ amount|floatformat:2 }} {{ unit }}{% if not forloop.last %}, {% endif %}
          {% endfor %}
        </li>
      {% endfor %}
    </ul>
  {% endfor %}
{% else %}
  <p>No items in the grocery list.</p>
{% endif %}

<p><a href="{% url 'meal_plan' %}">Back to Meal Plan</a></p>